{"nodes":[{"width":300,"height":522,"id":"chatOpenAI_0","position":{"x":-412.5164091925271,"y":1.3100501677734542},"type":"customNode","data":{"id":"chatOpenAI_0","label":"ChatOpenAI","version":1,"name":"chatOpenAI","type":"ChatOpenAI","baseClasses":["ChatOpenAI","BaseChatModel","BaseLanguageModel","Runnable"],"category":"Chat Models","description":"Wrapper around OpenAI large language models that use the Chat endpoint","inputParams":[{"label":"Connect Credential","name":"credential","type":"credential","credentialNames":["openAIApi"],"id":"chatOpenAI_0-input-credential-credential"},{"label":"Model Name","name":"modelName","type":"options","options":[{"label":"gpt-4","name":"gpt-4"},{"label":"gpt-4-0613","name":"gpt-4-0613"},{"label":"gpt-4-32k","name":"gpt-4-32k"},{"label":"gpt-4-32k-0613","name":"gpt-4-32k-0613"},{"label":"gpt-3.5-turbo","name":"gpt-3.5-turbo"},{"label":"gpt-3.5-turbo-0613","name":"gpt-3.5-turbo-0613"},{"label":"gpt-3.5-turbo-16k","name":"gpt-3.5-turbo-16k"},{"label":"gpt-3.5-turbo-16k-0613","name":"gpt-3.5-turbo-16k-0613"}],"default":"gpt-3.5-turbo","optional":true,"id":"chatOpenAI_0-input-modelName-options"},{"label":"Temperature","name":"temperature","type":"number","step":0.1,"default":0.9,"optional":true,"id":"chatOpenAI_0-input-temperature-number"},{"label":"Max Tokens","name":"maxTokens","type":"number","step":1,"optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-maxTokens-number"},{"label":"Top Probability","name":"topP","type":"number","step":0.1,"optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-topP-number"},{"label":"Frequency Penalty","name":"frequencyPenalty","type":"number","step":0.1,"optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-frequencyPenalty-number"},{"label":"Presence Penalty","name":"presencePenalty","type":"number","step":0.1,"optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-presencePenalty-number"},{"label":"Timeout","name":"timeout","type":"number","step":1,"optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-timeout-number"},{"label":"BasePath","name":"basepath","type":"string","optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-basepath-string"}],"inputAnchors":[],"inputs":{"modelName":"gpt-3.5-turbo","temperature":"1","maxTokens":"","topP":"","frequencyPenalty":"","presencePenalty":"","timeout":"","basepath":""},"outputAnchors":[{"id":"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable","name":"chatOpenAI","label":"ChatOpenAI","type":"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":-412.5164091925271,"y":1.3100501677734542},"dragging":false},{"width":300,"height":554,"id":"pineconeUpsert_0","position":{"x":-332.01476159903723,"y":606.2606569858857},"type":"customNode","data":{"id":"pineconeUpsert_0","label":"Pinecone Upsert Document","version":1,"name":"pineconeUpsert","type":"Pinecone","baseClasses":["Pinecone","VectorStoreRetriever","BaseRetriever"],"category":"Vector Stores","description":"Upsert documents to Pinecone","inputParams":[{"label":"Connect Credential","name":"credential","type":"credential","credentialNames":["pineconeApi"],"id":"pineconeUpsert_0-input-credential-credential"},{"label":"Pinecone Index","name":"pineconeIndex","type":"string","id":"pineconeUpsert_0-input-pineconeIndex-string"},{"label":"Pinecone Namespace","name":"pineconeNamespace","type":"string","placeholder":"my-first-namespace","additionalParams":true,"optional":true,"id":"pineconeUpsert_0-input-pineconeNamespace-string"},{"label":"Top K","name":"topK","description":"Number of top results to fetch. Default to 4","placeholder":"4","type":"number","additionalParams":true,"optional":true,"id":"pineconeUpsert_0-input-topK-number"}],"inputAnchors":[{"label":"Document","name":"document","type":"Document","list":true,"id":"pineconeUpsert_0-input-document-Document"},{"label":"Embeddings","name":"embeddings","type":"Embeddings","id":"pineconeUpsert_0-input-embeddings-Embeddings"}],"inputs":{"document":["{{pdfFile_0.data.instance}}"],"embeddings":"{{openAIEmbeddings_0.data.instance}}","pineconeIndex":"v","pineconeNamespace":"","topK":""},"outputAnchors":[{"name":"output","label":"Output","type":"options","options":[{"id":"pineconeUpsert_0-output-retriever-Pinecone|VectorStoreRetriever|BaseRetriever","name":"retriever","label":"Pinecone Retriever","type":"Pinecone | VectorStoreRetriever | BaseRetriever"},{"id":"pineconeUpsert_0-output-vectorStore-Pinecone|VectorStore","name":"vectorStore","label":"Pinecone Vector Store","type":"Pinecone | VectorStore"}],"default":"retriever"}],"outputs":{"output":"retriever"},"selected":false},"selected":false,"positionAbsolute":{"x":-332.01476159903723,"y":606.2606569858857},"dragging":false},{"width":300,"height":376,"id":"recursiveCharacterTextSplitter_0","position":{"x":-1320.7985230296372,"y":403.8300616573903},"type":"customNode","data":{"id":"recursiveCharacterTextSplitter_0","label":"Recursive Character Text Splitter","version":1,"name":"recursiveCharacterTextSplitter","type":"RecursiveCharacterTextSplitter","baseClasses":["RecursiveCharacterTextSplitter","TextSplitter","BaseDocumentTransformer","Runnable"],"category":"Text Splitters","description":"Split documents recursively by different characters - starting with \"\\n\\n\", then \"\\n\", then \" \"","inputParams":[{"label":"Chunk Size","name":"chunkSize","type":"number","default":1000,"optional":true,"id":"recursiveCharacterTextSplitter_0-input-chunkSize-number"},{"label":"Chunk Overlap","name":"chunkOverlap","type":"number","optional":true,"id":"recursiveCharacterTextSplitter_0-input-chunkOverlap-number"}],"inputAnchors":[],"inputs":{"chunkSize":"200","chunkOverlap":"20"},"outputAnchors":[{"id":"recursiveCharacterTextSplitter_0-output-recursiveCharacterTextSplitter-RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer|Runnable","name":"recursiveCharacterTextSplitter","label":"RecursiveCharacterTextSplitter","type":"RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer | Runnable"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":-1320.7985230296372,"y":403.8300616573903},"dragging":false},{"width":300,"height":328,"id":"openAIEmbeddings_0","position":{"x":-825.8629565823535,"y":861.5739381404276},"type":"customNode","data":{"id":"openAIEmbeddings_0","label":"OpenAI Embeddings","version":1,"name":"openAIEmbeddings","type":"OpenAIEmbeddings","baseClasses":["OpenAIEmbeddings","Embeddings"],"category":"Embeddings","description":"OpenAI API to generate embeddings for a given text","inputParams":[{"label":"Connect Credential","name":"credential","type":"credential","credentialNames":["openAIApi"],"id":"openAIEmbeddings_0-input-credential-credential"},{"label":"Strip New Lines","name":"stripNewLines","type":"boolean","optional":true,"additionalParams":true,"id":"openAIEmbeddings_0-input-stripNewLines-boolean"},{"label":"Batch Size","name":"batchSize","type":"number","optional":true,"additionalParams":true,"id":"openAIEmbeddings_0-input-batchSize-number"},{"label":"Timeout","name":"timeout","type":"number","optional":true,"additionalParams":true,"id":"openAIEmbeddings_0-input-timeout-number"},{"label":"BasePath","name":"basepath","type":"string","optional":true,"additionalParams":true,"id":"openAIEmbeddings_0-input-basepath-string"}],"inputAnchors":[],"inputs":{"stripNewLines":"","batchSize":"","timeout":"","basepath":""},"outputAnchors":[{"id":"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings","name":"openAIEmbeddings","label":"OpenAIEmbeddings","type":"OpenAIEmbeddings | Embeddings"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":-825.8629565823535,"y":861.5739381404276},"dragging":false},{"width":300,"height":279,"id":"retrievalQAChain_0","position":{"x":102.29258990701362,"y":243.15004336754123},"type":"customNode","data":{"id":"retrievalQAChain_0","label":"Retrieval QA Chain","version":1,"name":"retrievalQAChain","type":"RetrievalQAChain","baseClasses":["RetrievalQAChain","BaseChain","Runnable"],"category":"Chains","description":"QA chain to answer a question based on the retrieved documents","inputParams":[],"inputAnchors":[{"label":"Language Model","name":"model","type":"BaseLanguageModel","id":"retrievalQAChain_0-input-model-BaseLanguageModel"},{"label":"Vector Store Retriever","name":"vectorStoreRetriever","type":"BaseRetriever","id":"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever"}],"inputs":{"model":"{{chatOpenAI_0.data.instance}}","vectorStoreRetriever":"{{pineconeUpsert_0.data.instance}}"},"outputAnchors":[{"id":"retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable","name":"retrievalQAChain","label":"RetrievalQAChain","type":"RetrievalQAChain | BaseChain | Runnable"}],"outputs":{},"selected":false},"positionAbsolute":{"x":102.29258990701362,"y":243.15004336754123},"selected":false,"dragging":false},{"width":300,"height":505,"id":"pdfFile_0","position":{"x":-862.7659322517023,"y":248.79404483375203},"type":"customNode","data":{"id":"pdfFile_0","label":"Pdf File","version":1,"name":"pdfFile","type":"Document","baseClasses":["Document"],"category":"Document Loaders","description":"Load data from PDF files","inputParams":[{"label":"Pdf File","name":"pdfFile","type":"file","fileType":".pdf","id":"pdfFile_0-input-pdfFile-file"},{"label":"Usage","name":"usage","type":"options","options":[{"label":"One document per page","name":"perPage"},{"label":"One document per file","name":"perFile"}],"default":"perPage","id":"pdfFile_0-input-usage-options"},{"label":"Use Legacy Build","name":"legacyBuild","type":"boolean","optional":true,"additionalParams":true,"id":"pdfFile_0-input-legacyBuild-boolean"},{"label":"Metadata","name":"metadata","type":"json","optional":true,"additionalParams":true,"id":"pdfFile_0-input-metadata-json"}],"inputAnchors":[{"label":"Text Splitter","name":"textSplitter","type":"TextSplitter","optional":true,"id":"pdfFile_0-input-textSplitter-TextSplitter"}],"inputs":{"textSplitter":"{{recursiveCharacterTextSplitter_0.data.instance}}","usage":"perPage","legacyBuild":"","metadata":""},"outputAnchors":[{"id":"pdfFile_0-output-pdfFile-Document","name":"pdfFile","label":"Document","type":"Document"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":-862.7659322517023,"y":248.79404483375203},"dragging":false}],"edges":[{"source":"openAIEmbeddings_0","sourceHandle":"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings","target":"pineconeUpsert_0","targetHandle":"pineconeUpsert_0-input-embeddings-Embeddings","type":"buttonedge","id":"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-pineconeUpsert_0-pineconeUpsert_0-input-embeddings-Embeddings","data":{"label":""}},{"source":"chatOpenAI_0","sourceHandle":"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable","target":"retrievalQAChain_0","targetHandle":"retrievalQAChain_0-input-model-BaseLanguageModel","type":"buttonedge","id":"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-retrievalQAChain_0-retrievalQAChain_0-input-model-BaseLanguageModel","data":{"label":""}},{"source":"pineconeUpsert_0","sourceHandle":"pineconeUpsert_0-output-retriever-Pinecone|VectorStoreRetriever|BaseRetriever","target":"retrievalQAChain_0","targetHandle":"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever","type":"buttonedge","id":"pineconeUpsert_0-pineconeUpsert_0-output-retriever-Pinecone|VectorStoreRetriever|BaseRetriever-retrievalQAChain_0-retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever","data":{"label":""}},{"source":"recursiveCharacterTextSplitter_0","sourceHandle":"recursiveCharacterTextSplitter_0-output-recursiveCharacterTextSplitter-RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer|Runnable","target":"pdfFile_0","targetHandle":"pdfFile_0-input-textSplitter-TextSplitter","type":"buttonedge","id":"recursiveCharacterTextSplitter_0-recursiveCharacterTextSplitter_0-output-recursiveCharacterTextSplitter-RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer|Runnable-pdfFile_0-pdfFile_0-input-textSplitter-TextSplitter","data":{"label":""}},{"source":"pdfFile_0","sourceHandle":"pdfFile_0-output-pdfFile-Document","target":"pineconeUpsert_0","targetHandle":"pineconeUpsert_0-input-document-Document","type":"buttonedge","id":"pdfFile_0-pdfFile_0-output-pdfFile-Document-pineconeUpsert_0-pineconeUpsert_0-input-document-Document","data":{"label":""}}]}